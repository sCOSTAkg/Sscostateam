{
  "id": "sA6jFMi2W0km9VQ5",
  "name": "N8N_API_HANDLER",
  "nodes": [
    {
      "parameters": {
        "workflowInputs": {
          "values": [
            {
              "name": "operation"
            },
            {
              "name": "workflowId"
            },
            {
              "name": "executionId"
            },
            {
              "name": "active"
            },
            {
              "name": "tags"
            },
            {
              "name": "limit"
            },
            {
              "name": "workflow",
              "type": "object"
            },
            {
              "name": "updates",
              "type": "object"
            },
            {
              "name": "data",
              "type": "object"
            }
          ]
        }
      },
      "id": "execute_workflow_trigger",
      "name": "When Executed by Another Workflow",
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "position": [
        240,
        512
      ],
      "typeVersion": 1.1
    },
    {
      "parameters": {
        "options": {}
      },
      "id": "router",
      "name": "Router",
      "type": "n8n-nodes-base.switch",
      "position": [
        448,
        512
      ],
      "typeVersion": 3
    },
    {
      "parameters": {
        "resource": "workflow",
        "operation": "getAll",
        "returnAll": "={{ $json.limit ? false : true }}",
        "limit": "={{ $json.limit ?? 100 }}",
        "filters": {
          "activeWorkflows": "={{ $json.active === undefined ? undefined : $json.active }}",
          "tags": "={{ Array.isArray($json.tags) ? $json.tags.join(',') : ($json.tags || undefined) }}"
        }
      },
      "id": "list_workflows",
      "name": "List Workflows",
      "type": "n8n-nodes-base.n8n",
      "position": [
        704,
        112
      ],
      "typeVersion": 1,
      "credentials": {
        "n8nApi": {
          "id": "XlwmzDj0b1cEw8V2",
          "name": "HTTP Header Auth"
        }
      }
    },
    {
      "parameters": {
        "resource": "workflow",
        "operation": "get",
        "workflowId": {
          "__rl": true,
          "mode": "id",
          "value": "={{ $json.workflowId }}"
        }
      },
      "id": "get_workflow",
      "name": "Get Workflow",
      "type": "n8n-nodes-base.n8n",
      "position": [
        704,
        224
      ],
      "typeVersion": 1,
      "credentials": {
        "n8nApi": {
          "id": "XlwmzDj0b1cEw8V2",
          "name": "HTTP Header Auth"
        }
      }
    },
    {
      "parameters": {
        "resource": "workflow",
        "operation": "create",
        "workflowObject": "={{ JSON.stringify($json.workflow || {}) }}"
      },
      "id": "create_workflow",
      "name": "Create Workflow",
      "type": "n8n-nodes-base.n8n",
      "position": [
        704,
        352
      ],
      "typeVersion": 1,
      "credentials": {
        "n8nApi": {
          "id": "XlwmzDj0b1cEw8V2",
          "name": "HTTP Header Auth"
        }
      }
    },
    {
      "parameters": {
        "resource": "workflow",
        "operation": "update",
        "workflowId": {
          "__rl": true,
          "mode": "id",
          "value": "={{ $json.workflowId }}"
        },
        "workflowObject": "={{ JSON.stringify($json.updates || {}) }}"
      },
      "id": "update_workflow",
      "name": "Update Workflow",
      "type": "n8n-nodes-base.n8n",
      "position": [
        704,
        464
      ],
      "typeVersion": 1,
      "credentials": {
        "n8nApi": {
          "id": "XlwmzDj0b1cEw8V2",
          "name": "HTTP Header Auth"
        }
      }
    },
    {
      "parameters": {
        "resource": "workflow",
        "operation": "delete",
        "workflowId": {
          "__rl": true,
          "mode": "id",
          "value": "={{ $json.workflowId }}"
        }
      },
      "id": "delete_workflow",
      "name": "Delete Workflow",
      "type": "n8n-nodes-base.n8n",
      "position": [
        704,
        592
      ],
      "typeVersion": 1,
      "credentials": {
        "n8nApi": {
          "id": "XlwmzDj0b1cEw8V2",
          "name": "HTTP Header Auth"
        }
      }
    },
    {
      "parameters": {
        "resource": "workflow",
        "operation": "activate",
        "workflowId": {
          "__rl": true,
          "mode": "id",
          "value": "={{ $json.workflowId }}"
        }
      },
      "id": "activate_workflow",
      "name": "Activate Workflow",
      "type": "n8n-nodes-base.n8n",
      "position": [
        704,
        704
      ],
      "typeVersion": 1,
      "credentials": {
        "n8nApi": {
          "id": "XlwmzDj0b1cEw8V2",
          "name": "HTTP Header Auth"
        }
      }
    },
    {
      "parameters": {
        "resource": "workflow",
        "operation": "deactivate",
        "workflowId": {
          "__rl": true,
          "mode": "id",
          "value": "={{ $json.workflowId }}"
        }
      },
      "id": "deactivate_workflow",
      "name": "Deactivate Workflow",
      "type": "n8n-nodes-base.n8n",
      "position": [
        704,
        832
      ],
      "typeVersion": 1,
      "credentials": {
        "n8nApi": {
          "id": "XlwmzDj0b1cEw8V2",
          "name": "HTTP Header Auth"
        }
      }
    },
    {
      "parameters": {
        "resource": "execution",
        "operation": "getAll",
        "returnAll": "={{ $json.limit ? false : true }}",
        "limit": "={{ $json.limit ?? 100 }}",
        "filters": {
          "workflowId": {
            "__rl": true,
            "mode": "id",
            "value": "={{ $json.workflowId }}"
          }
        }
      },
      "id": "list_executions",
      "name": "List Executions",
      "type": "n8n-nodes-base.n8n",
      "position": [
        704,
        944
      ],
      "typeVersion": 1,
      "credentials": {
        "n8nApi": {
          "id": "XlwmzDj0b1cEw8V2",
          "name": "HTTP Header Auth"
        }
      }
    },
    {
      "parameters": {
        "resource": "workflow",
        "operation": "run",
        "workflowId": {
          "__rl": true,
          "mode": "id",
          "value": "={{ $json.workflowId }}"
        },
        "data": "={{ JSON.stringify($json.data || {}) }}"
      },
      "id": "execute_workflow",
      "name": "Execute Workflow",
      "type": "n8n-nodes-base.n8n",
      "position": [
        704,
        1072
      ],
      "typeVersion": 1,
      "credentials": {
        "n8nApi": {
          "id": "XlwmzDj0b1cEw8V2",
          "name": "HTTP Header Auth"
        }
      }
    }
  ],
  "connections": {
    "execute_workflow_trigger": {
      "main": [
        [
          {
            "node": "router",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "router": {
      "main": [
        [
          {
            "node": "list_workflows",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "get_workflow",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "create_workflow",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "update_workflow",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "delete_workflow",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "activate_workflow",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "deactivate_workflow",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "list_executions",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "execute_workflow",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "saveExecutionProgress": true,
    "saveManualExecutions": true,
    "saveDataErrorExecution": "all",
    "saveDataSuccessExecution": "all",
    "executionTimeout": 3600,
    "timezone": "UTC"
  },
  "triggerCount": 0,
  "versionId": "59dc6435-7edd-4270-b6a8-05df4ea28557",
  "owner": {
    "type": "personal",
    "projectId": "dvppI3gHKpO1rcWe",
    "projectName": "Sallahadin  Sali <withabakirov@gmail.com>",
    "personalEmail": "withabakirov@gmail.com"
  },
  "parentFolderId": null,
  "isArchived": false
}
